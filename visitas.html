<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Registro de Visitas – Toyo Foods</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />

  <!-- Librería para exportar a Excel -->
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

  <style>
    :root {
      --toyo-blue: #0046be;
      --toyo-blue-soft: #e6efff;
      --toyo-gray: #f5f7fa;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--toyo-gray);
      margin: 0;
      padding: 12px;
      color: #222;
    }

    .app-container {
      max-width: 900px;
      margin: 0 auto 40px auto;
    }

    header {
      background: #fff;
      border-radius: 14px;
      padding: 14px 16px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.06);
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    header img {
      height: 46px;
      width: auto;
      border-radius: 10px;
      object-fit: contain;
    }

    header h1 {
      font-size: 20px;
      margin: 0;
      color: var(--toyo-blue);
    }

    header p {
      margin: 2px 0 0;
      font-size: 12px;
      color: #555;
    }

    .banner-sabado {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
      border-radius: 10px;
      padding: 10px 12px;
      font-size: 13px;
      margin-bottom: 12px;
      display: none;
    }

    .card {
      background: #fff;
      border-radius: 14px;
      padding: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
      margin-bottom: 16px;
    }

    .card h2 {
      margin: 0 0 12px;
      font-size: 16px;
      color: var(--toyo-blue);
    }

    label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 4px;
      color: #333;
    }

    select,
    textarea,
    input[type="text"] {
      width: 100%;
      border-radius: 10px;
      border: 1px solid #cfd4e6;
      padding: 8px 10px;
      font-size: 14px;
      outline: none;
      transition: border 0.2s ease, box-shadow 0.2s ease;
      background: #fff;
    }

    select:focus,
    textarea:focus,
    input[type="text"]:focus {
      border-color: var(--toyo-blue);
      box-shadow: 0 0 0 2px rgba(0,70,190,0.15);
    }

    textarea {
      resize: vertical;
      min-height: 60px;
    }

    .form-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
    }
    .form-group {
      flex: 1 1 160px;
      min-width: 0;
    }

    .small-inputs {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .small-inputs .form-group {
      flex: 1 1 120px;
    }

    .info-text {
      font-size: 11px;
      color: #777;
      margin-top: 2px;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: background 0.15s ease, transform 0.1s ease,
        box-shadow 0.15s ease;
      white-space: nowrap;
    }

    .btn-primary {
      background: var(--toyo-blue);
      color: #fff;
      box-shadow: 0 3px 8px rgba(0,70,190,0.35);
    }

    .btn-primary:hover {
      background: #003a9e;
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: #e2e7f5;
      color: #1c2c4f;
    }

    .btn-secondary:hover {
      background: #d4dcf3;
    }

    .btn-sm {
      padding: 6px 12px;
      font-size: 12px;
    }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }

    .status-text {
      font-size: 11px;
      color: #666;
      margin-top: 4px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 11px;
    }

    thead {
      background: var(--toyo-blue-soft);
    }

    th,
    td {
      border: 1px solid #e1e4f0;
      padding: 6px 6px;
      text-align: left;
    }

    th {
      font-weight: 600;
      color: #1f2a3c;
      position: sticky;
      top: 0;
      background: var(--toyo-blue-soft);
      z-index: 1;
    }

    tbody tr:nth-child(even) {
      background: #fafbff;
    }

    .table-wrapper {
      max-height: 360px;
      overflow: auto;
      border-radius: 10px;
      border: 1px solid #e1e4f0;
    }

    .tag {
      display: inline-block;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      background: #eef2ff;
      color: #334155;
      margin-top: 4px;
    }

    @media (max-width: 600px) {
      header {
        flex-direction: row;
        align-items: center;
      }
      header h1 {
        font-size: 18px;
      }
      .card {
        padding: 12px;
      }
      th,
      td {
        font-size: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <header>
      <!-- Cambia "toyo-logo.png" por la ruta real de tu logo -->
      <img src="toyo-logo.png" alt="Toyo Foods" />
      <div>
        <h1>Registro de Visitas</h1>
        <p>Control diario de visitas por agente y cliente.</p>
      </div>
    </header>

    <!-- Recordatorio de los sábados -->
    <div id="bannerSabado" class="banner-sabado">
      Recordatorio: hoy es sábado. Exporta el historial en Excel y envíalo a
      <strong>hberistian@toyofoods.com.mx</strong>.
    </div>

    <!-- FORMULARIO PRINCIPAL -->
    <section class="card">
      <h2>Captura de visita</h2>

      <div class="form-row">
        <div class="form-group">
          <label for="vendedorSelect">Vendedor</label>
          <select id="vendedorSelect">
            <option value="">Selecciona un vendedor...</option>
          </select>
        </div>

        <div class="form-group">
          <label for="clienteSelect">Cliente</label>
          <select id="clienteSelect" disabled>
            <option value="">Selecciona primero un vendedor...</option>
          </select>
          <div class="info-text" id="clienteCodigoText"></div>
        </div>
      </div>

      <div class="form-group">
        <label for="comentariosInput">Comentarios</label>
        <textarea
          id="comentariosInput"
          placeholder="Notas de la visita, acuerdos, pendientes, etc."
        ></textarea>
      </div>

      <div class="form-row small-inputs">
        <div class="form-group">
          <label for="fechaInput">Fecha</label>
          <input id="fechaInput" type="text" readonly />
        </div>
        <div class="form-group">
          <label for="horaInput">Hora</label>
          <input id="horaInput" type="text" readonly />
        </div>
        <div class="form-group">
          <label>GPS</label>
          <div class="btn-row">
            <button id="btnGps" type="button" class="btn btn-secondary btn-sm">
              Obtener ubicación
            </button>
          </div>
          <div class="status-text" id="gpsStatus">
            Lat: <span id="latText">-</span>,
            Lng: <span id="lngText">-</span>
          </div>
        </div>
      </div>

      <div class="btn-row">
        <button id="btnGuardar" type="button" class="btn btn-primary">
          Guardar visita
        </button>
        <span class="status-text" id="guardarStatus"></span>
      </div>
    </section>

    <!-- HISTORIAL -->
    <section class="card">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px;margin-bottom:10px;flex-wrap:wrap;">
        <div>
          <h2 style="margin-bottom:4px;">Historial de visitas</h2>
          <span class="tag" id="contadorVisitas">0 visitas</span>
        </div>
        <div class="btn-row">
          <button id="btnExportarExcel" type="button" class="btn btn-secondary btn-sm">
            Exportar a Excel
          </button>
          <button id="btnLimpiarTodo" type="button" class="btn btn-secondary btn-sm">
            Limpiar historial (solo este dispositivo)
          </button>
        </div>
      </div>

      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Hora</th>
              <th>Vendedor</th>
              <th>Código</th>
              <th>Cliente</th>
              <th>Comentarios</th>
              <th>Lat</th>
              <th>Lng</th>
            </tr>
          </thead>
          <tbody id="tablaVisitasBody"></tbody>
        </table>
      </div>
    </section>
  </div>

  <script>
    /****************************************************
     * 1) DATOS DE VENDEDORES Y CLIENTES
     ****************************************************/

    // Mapa: Vendedor -> lista de { codigo, nombre }
    // NOTA: Aquí solo dejo algunos ejemplos reales.
    // Sustituye / amplía este objeto con TODOS tus clientes
    // usando tu archivo clientes.xlsx.
    const clientesPorAgente = {
      "AGENTE CLAVE  GDL": [
          { codigo: "C000097", nombre: "JULIO ISRAEL ANDRADE LEYVA" },
  { codigo: "C000545", nombre: "DIEGO ENRIQUE MORALES RODRIGUEZ" },
  { codigo: "C000787", nombre: "GLORIANA GODINEZ URREA" },
  { codigo: "C001753", nombre: "PROMOTORA VINCENT" },
  { codigo: "C001773", nombre: "QUINTERO JUAN" },
  { codigo: "C002188", nombre: "SUSHI FACTORY DE GUADALAJARA" },
  { codigo: "C002189", nombre: "SUSHI FACTORY DE GUADALAJARA" },
  { codigo: "C002193", nombre: "SUSHI FACTORY" },
  { codigo: "C004725", nombre: "MARIO REBOLLAR MORALES" },
  { codigo: "C006240", nombre: "MARTIN OSCAR JAIME AVILA RODRIGUEZ" },
  { codigo: "C008344", nombre: "DAISUKI" },
  { codigo: "C008398", nombre: "GH DINING HOSPITALITY" },
  { codigo: "C008516", nombre: "LAGUNEROS ORIENTALES" },
  { codigo: "C008945", nombre: "CONTROL DE FRANQUICIAS AVILA" },
  { codigo: "C009308", nombre: "EVENTOS CORAZON DE ALCACHOFA" },
  { codigo: "C009465", nombre: "SUSHI FACTORY" },
  { codigo: "C009680", nombre: "NOEL SILVA ALEMAN" },
  { codigo: "C009733", nombre: "LUIS FERNANDO GARCIA SALINAS" },
  { codigo: "C010969", nombre: "SIGMA FOODSERVICE COMERCIAL" },
  { codigo: "C011058", nombre: "ABASTECEDORA DE ALIMENTOS Y EMBUTIDOS VALLE HERMANOS" },
  { codigo: "C011309", nombre: "BOMBONA JAPONES TRADICIONAL" },
  { codigo: "C011460", nombre: "SUSHI GOYO" },
  { codigo: "C011551", nombre: "JOSE GUADALUPE BALLESTEROS DIAZ" },
  { codigo: "C011658", nombre: "RESTAURANTES MOSHI MOSHI" },
  { codigo: "C011874", nombre: "MICHEL ADIB BORREGO" },
  { codigo: "C011887", nombre: "SEBASTIAN LOZANO CASTELLANOS" },
  { codigo: "C012000", nombre: "ULISES MEDINA VELAZQUEZ" },
  { codigo: "C012072", nombre: "UNION STRANA" },
  { codigo: "C012145", nombre: "SUSHI FACTORY" },
  { codigo: "C012321", nombre: "FENGCHI YE" },
  { codigo: "C012485", nombre: "AGUSTIN PEÑA CASTAÑEDA" },
  { codigo: "C012586", nombre: "SMS" },
  { codigo: "C012785", nombre: "OPERADORA HATSU SAO PAULO" },
  { codigo: "C012807", nombre: "ASADOR ALCACHOFA" },
  { codigo: "C012808", nombre: "ALCACHOFA GRILL" },
  { codigo: "C013475", nombre: "MEGA COMERCIAL LAVORIZ" },
  { codigo: "C013653", nombre: "SUSHI STICK" },
  { codigo: "C013718", nombre: "CARLOS ALBERTO CUEVAS NOVOA" },
  { codigo: "C014026", nombre: "GRUPO HABASALSAS" },
  { codigo: "C014133", nombre: "GABRIELA MARISOL CONCHAS MENDOZA" },
  { codigo: "C014184", nombre: "GRUPO RESTAURANTERO JUALI" },
  { codigo: "C014746", nombre: "FOODOLOGY MEXICO" },
  { codigo: "C014832", nombre: "LAS 2 RAZONES" },
  { codigo: "C014842", nombre: "SUSHI FACTORY" },
  { codigo: "C015051", nombre: "HANAKI GRUPO DE OCCIDENTE" },
  { codigo: "C013101", nombre: "ITAMAE VALLE REAL" },
  { codigo: "C015392", nombre: "OPERADORA STICKS" },
  { codigo: "C015400", nombre: "COMERCIALIZADORA DISEÑO SUPERIOR" },
  { codigo: "C015554", nombre: "MOVA COMERCIOS TURISTICOS" },
  { codigo: "C015689", nombre: "ENRIQUE DARINEL GONZALEZ CAMPOS" },
  { codigo: "C015699", nombre: "JPO Y ASOCIADOS" },
  { codigo: "C015790", nombre: "JEROME ROMAN ECKSTEIN" },
  { codigo: "C015809", nombre: "SUSHI FACTORY" },
  { codigo: "C015868", nombre: "RESTAURANTES MOSHI MOSHI" },
  { codigo: "C015869", nombre: "RESTAURANTES MOSHI MOSHI" },
  { codigo: "C016107", nombre: "ARMAFI MEXICO" },
  { codigo: "C016287", nombre: "ISIDRO ALEJANDRO PEREZ GOMEZ" },
  { codigo: "C016343", nombre: "LITIBU GRUPO EMPRESARIAL PRIVADO" },
  { codigo: "C016379", nombre: "HECTOR NATANAHEL HERRERA MORALES" },
  { codigo: "C016476", nombre: "AFIALI GOURMET" },
  { codigo: "C016547", nombre: "GLORIANA GODINEZ URREA" },
  { codigo: "C016640", nombre: "NEKO CAFE" },
  { codigo: "C016960", nombre: "ISLA CERDEÑA" },
  { codigo: "C017002", nombre: "JOSE HUMBERTO ROCHA HERNANDEZ" },
  { codigo: "C017155", nombre: "CAFETERIA PRONFESSY" },
  { codigo: "C017522", nombre: "SERVICIOS COMERCIALES TRIANTAFYLLOU" },
  { codigo: "C017743", nombre: "GASTRONOMIA TIGRE BLANCO" },
  { codigo: "C018003", nombre: "HIPER SOLO" },
  { codigo: "C018075", nombre: "INGRID SHANTAL RAMIREZ CANALES" },
  { codigo: "C018320", nombre: "PROTEINAS IMPORTADAS DE ALTA GAMA" },
  { codigo: "C018906", nombre: "RESTAURANTES MOSHI MOSHI" },
  { codigo: "C019494", nombre: "PAULO CESAR RODRIGUEZ LOPEZ" },
  { codigo: "C019949", nombre: "MS FABRICA DE NEGOCIOS" },
  { codigo: "C020166", nombre: "FERNANDA ROSALES GARCIA" },
  { codigo: "CGDL021188", nombre: "INAKAYA" },
  { codigo: "CGDL040060", nombre: "VICTOR MANUEL ORTIZ GONZALEZ" },
  { codigo: "CGDL070438", nombre: "CORPORATIVO ELEMENTAL" },
  { codigo: "CSLP010205", nombre: "DESTILADOS ARMENIOS DON JORDI" }
      ],
      "GDL1 - OSCAR YEPEZ": [
        { codigo: "C000739", nombre: "GARCIA NUÑEZ JOSE LUIS" },
  { codigo: "C000806", nombre: "BRYAN BENITO GOMEZ DELGADO" },
  { codigo: "C000908", nombre: "HACIENDA SAN JAVIER" },
  { codigo: "C001208", nombre: "LOS RAVIOLES" },
  { codigo: "C001867", nombre: "MANUEL ADRIAN REYES HERRERA" },
  { codigo: "C002214", nombre: "SUSHI SEGUE" },
  { codigo: "C003530", nombre: "JOSE ANGEL GONZALEZ CUENCA" },
  { codigo: "C005789", nombre: "LUIS SANCHEZ DE LA VEGA CASTELLANOS" },
  { codigo: "C006287", nombre: "LA PERLA DE PATRIA" },
  { codigo: "C007987", nombre: "R. LEDESMA FLOR" },
  { codigo: "C009407", nombre: "HILDA VICTORIA SANCHEZ FLORES" },
  { codigo: "C009547", nombre: "CINTHIA VANESSA BARBA RIOS" },
  { codigo: "C009655", nombre: "COCOS LOCOS PROVIDENCIA" },
  { codigo: "C009794", nombre: "EL FRESNO CHILES SECOS" },
  { codigo: "C009836", nombre: "GUSTO ITALIANO" },
  { codigo: "C010302", nombre: "HECTOR GUSTAVO NUÑEZ QUINTERO" },
  { codigo: "C010904", nombre: "JOSE IGNACIO BAÑUELOS CALLEROS" },
  { codigo: "C011757", nombre: "SERGIO ROBLES SANDOVAL" },
  { codigo: "C011902", nombre: "OSTERIA MATTONE" },
  { codigo: "C011972", nombre: "DAIYOUNG HEO" },
  { codigo: "C012010", nombre: "LUIS ALONSO VILLASEÑOR ARIAS" },
  { codigo: "C013470", nombre: "CORPORATIVO JANROD" },
  { codigo: "C013522", nombre: "ROLLOS GDL" },
  { codigo: "C014147", nombre: "HEE JEUNG JANG" },
  { codigo: "C015373", nombre: "BARRIO 19" },
  { codigo: "C015461", nombre: "ELOY MEDINA GOMEZ" },
  { codigo: "C015707", nombre: "NADYA BERENICE GARCIA ROJAS" },
  { codigo: "C016198", nombre: "EDER GAMALIEL VAZQUEZ ARANDA" },
  { codigo: "C016468", nombre: "SERGIO FLORES DAVID" },
  { codigo: "C016898", nombre: "WARDROBE CAFETERIA" },
  { codigo: "C017458", nombre: "LILIANA FARRERA FIGUEROA" },
  { codigo: "C019113", nombre: "JOSE RAMON PRECIADO RODRIGUEZ" },
  { codigo: "C019352", nombre: "RAUL ANTONIO JUAREZ JUAREZ" },
  { codigo: "CCM0100379", nombre: "COMERCIALIZADORA Y PROCESADORA DE ALIMENTOS ORIENTALES DAI" },
  { codigo: "CGDL010005", nombre: "GABRIEL CONTRERAS GONZALEZ" },
  { codigo: "CGDL010143", nombre: "JESUS LUIS GOMEZ HERNANDEZ" },
  { codigo: "CGDL010221", nombre: "EDGAR EMMANUEL FABIAN RUIZ" },
  { codigo: "CGDL010352", nombre: "LUIS ALBERTO TAVARES LOPEZ" },
  { codigo: "CGDL010407", nombre: "LUIS ENRIQUE ORTIZ BARBOSA" },
  { codigo: "CGDL010501", nombre: "CESAR EDGARDO DELGADO PRADO" },
  { codigo: "CGDL010585", nombre: "GASTRONOMICA COREANA" },
  { codigo: "CGDL010608", nombre: "EDGAR ADRIAN SANCHEZ HIDALGO" },
  { codigo: "CGDL010612", nombre: "OSWALDO RAFAEL CASTOLO BUSTOS" },
  { codigo: "CGDL010646", nombre: "GASTRONOMICA NELSON" },
  { codigo: "CGDL010655", nombre: "MARA RAQUEL RENTERIA MENDEZ" },
  { codigo: "CGDL010662", nombre: "OSCAR HERNANDEZ FRIAS" },
  { codigo: "CGDL010680", nombre: "ILEANA PAOLA BARRIGA SANCHEZ" },
  { codigo: "CGDL020400", nombre: "KC COMUNICACIONES" },
  { codigo: "CGDL021972", nombre: "CESAR EDUARDO VACA AYALA" },
  { codigo: "CGDL070104", nombre: "ALBAGUE" },
  { codigo: "CGDL070404", nombre: "GABRIELA ALEJANDRA ESTRADA MUÑOZ" },
  { codigo: "CGDL070448", nombre: "KARLA AMEZCUA SAHAGUN" },
  { codigo: "CGDL080013", nombre: "MARIA DEL ROCIO RODRIGUEZ ALCALA" },
  { codigo: "CTJO010035", nombre: "TORRES CABRERA THANIA JAZMIN" },
  { codigo: "CTJO010474", nombre: "CARMEN OLIVIA MONTES MEDRANO" },
  { codigo: "CTLQ010289", nombre: "CESAR EDGARDO CASILLAS RAMIREZ" },
  { codigo: "CTLQ010296", nombre: "TONIKAI SUSHI" },
  { codigo: "CZPN010203", nombre: "KARLA PATRICIA BARRAGAN LOZANO" },
  { codigo: "CZPN050018", nombre: "ANA CRISTINA GRANADOS LUGO" }
       
      ],
      "GDL13 - SANDRA NAVARRO": [
        { codigo: "C000094", nombre: "CARLOS FRANCISCO ANAYA DELGADO" },
  { codigo: "C000268", nombre: "EVERARDO CAMPOS AGUAS" },
  { codigo: "C000343", nombre: "HECTOR MANUEL CENICEROS MEDINA" },
  { codigo: "C000848", nombre: "GORO TANAKA" },
  { codigo: "C000892", nombre: "VERONICA GUTIERREZ CEBALLOS" },
  { codigo: "C000933", nombre: "JUAN CARLOS HERNANDEZ MONROY" },
  { codigo: "C001061", nombre: "JORGE MATOO" },
  { codigo: "C001444", nombre: "MARCELA ROCIO MUÑIZ CARVAJAL" },
  { codigo: "C001517", nombre: "RAFAEL JESUS OLIVARES RUBIÑOS" },
  { codigo: "C001682", nombre: "BERTHA ANGELICA PEREZ ELICERIO" },
  { codigo: "C001685", nombre: "PEREZ ELISERIO LAURA" },
  { codigo: "C001713", nombre: "PFS DE MEXICO" },
  { codigo: "C001796", nombre: "JUAN CARLOS RAMIREZ NAVA" },
  { codigo: "C001846", nombre: "RESTAURANT TOYO" },
  { codigo: "C001868", nombre: "RENE ISAURO REYES HERRERA" },
  { codigo: "C002055", nombre: "ANA ROSA SANCHEZ SANCHEZ" },
  { codigo: "C002171", nombre: "SUEHIRO DE MEXICO" },
  { codigo: "C002251", nombre: "EXHIBIDORA MEXICANA CINEPOLIS" },
  { codigo: "C002347", nombre: "IGNACIO JOASET VAZQUEZ RAMIREZ" },
  { codigo: "C002473", nombre: "YOUNG MOON COMPANY" },
  { codigo: "C005768", nombre: "ARROLLO PEREZ BRENDA" },
  { codigo: "C005972", nombre: "ANA ROSA SANCHEZ MERCADO" },
  { codigo: "C006048", nombre: "INMOBILIARIA CASA GOLF" },
  { codigo: "C006409", nombre: "DANIRA LILIANA MUÑOZ ACOSTA" },
  { codigo: "C008025", nombre: "RICE FOOD" },
  { codigo: "C008554", nombre: "MARNAPA" },
  { codigo: "C008645", nombre: "DELOA VERONICA" },
  { codigo: "C008679", nombre: "MARISOL CISNEROS LEAL" },
  { codigo: "C008801", nombre: "PULPO LOOP CO" },
  { codigo: "C009479", nombre: "MARIA BRENDA ARROYO PEREZ" },
  { codigo: "C009506", nombre: "GOFRESH" },
  { codigo: "C009600", nombre: "GUILLERMO ALEJANDRO DE LA MORA BARAJAS" },
  { codigo: "C009667", nombre: "GLORIA GALVAN MENDOZA" },
  { codigo: "C009673", nombre: "JESUS AVILA RAMIREZ" },
  { codigo: "C010000", nombre: "OPERADORA SSM" },
  { codigo: "C010301", nombre: "RESTAURANTE LI CHANG" },
  { codigo: "C010325", nombre: "ANTONIO DE JESUS LOPEZ GONZALEZ" },
  { codigo: "C010421", nombre: "PESCADERIA RIO" },
  { codigo: "C010526", nombre: "JOSE SANTOS URIOSTEGUI" },
  { codigo: "C010569", nombre: "RAFAEL GUTIERREZ CEBALLOS" },
  { codigo: "C010943", nombre: "YIRAH RIVERA GARCIA" },
  { codigo: "C011262", nombre: "ALEJANDRO SANCHEZ SANCHEZ" },
  { codigo: "C011267", nombre: "GRUPO POSADA TROPICAL" },
  { codigo: "C011339", nombre: "MARRON BAILON SALVADOR" },
  { codigo: "C011468", nombre: "IRORI DE GUADALAJARA" },
  { codigo: "C011867", nombre: "MARIA LUISA ESTHER RODRIGUEZ MICHEL" },
  { codigo: "C012009", nombre: "PERLA MANJARREZ SOBERANES" },
  { codigo: "C012497", nombre: "JOSE JAVIER QUINTERO ESPARZA" },
  { codigo: "C012772", nombre: "ANABERTA ROSALES LOPEZ" },
  { codigo: "C012778", nombre: "KAREN AHTZIRI CAMPOS GAMA" },
  { codigo: "C013407", nombre: "PROVEEDURIA INTEGRAL MAO" },
  { codigo: "C014154", nombre: "GRUPO KELSAN" },
  { codigo: "C014221", nombre: "ALEJANDRO VILLA RICHKARDAY" },
  { codigo: "C014970", nombre: "MANUEL DE JESUS NAVA PEREZ" },
  { codigo: "C015248", nombre: "FIXUS DESARROLLO DE NEGOCIOS" },
  { codigo: "C015311", nombre: "OPERADORA TORREDI" },
  { codigo: "C015469", nombre: "DIANA VICTORIA ESCOTTO IÑIGUEZ" },
  { codigo: "C015645", nombre: "TANIA YARASETH CARDENAS CHAVEZ" },
  { codigo: "C015885", nombre: "LUZ MARIA RUBIO CEBALLOS" },
  { codigo: "C015979", nombre: "ROSA ERIKA LOPEZ GONZALEZ" },
  { codigo: "C016351", nombre: "ELSY ANAHI HERNANDEZ GLORIA" },
  { codigo: "C016804", nombre: "ALIMENTOS ASIATICOS OP" },
  { codigo: "C016822", nombre: "CLAUDIA LIZETTE ROJAS MALDONADO" },
  { codigo: "C017025", nombre: "ISAO COMIDA ORIENTAL BLEL" },
  { codigo: "C017413", nombre: "SUSHI NEKO" },
  { codigo: "C017653", nombre: "YOUNG JIN KWON" },
  { codigo: "C018630", nombre: "ALEJANDRO GALINDO SALAZAR" },
  { codigo: "C018684", nombre: "ARMANDO ISAAC BARBA CASILLAS" },
  { codigo: "C018984", nombre: "ELVIA CORREA FLORES" },
  { codigo: "C019987", nombre: "CARLOS EVARISTO LOPEZ CARRILLO" },
  { codigo: "C019988", nombre: "JORGE HERNANDEZ DE SANTIAGO" },
  { codigo: "CGDL010039", nombre: "ADRIANA LOPEZ GUERRERO" },
  { codigo: "CGDL010488", nombre: "JIANLIAN GONG" },
  { codigo: "CGDL010791", nombre: "MALIK DIAZ VIDAL" },
  { codigo: "CGDL021741", nombre: "PANDA GOURMET" },
  { codigo: "CMOR010692", nombre: "EXHIBIDORA MEXICANA CINEPOLIS" },
  { codigo: "CTPC010034", nombre: "YOLANDA LETICIA BECERRA MARQUEZ" }
   
      ],
      "GDL14- ARCENIO AGUIRRE": [
         { codigo: "C002464", nombre: "EDUARDO YOKOGAWA TERAOKA" },
  { codigo: "C002742", nombre: "BAOSHI CHEN" },
  { codigo: "C002796", nombre: "VICTOR BLANCAS VILLANUEVA" },
  { codigo: "C009738", nombre: "PADILLA GONZALEZ CESAR" },
  { codigo: "C010655", nombre: "RATCHA-ANACHAK THAI" },
  { codigo: "C011085", nombre: "GRUPO RESTAURANTERO AGUILAR MOYANO" },
  { codigo: "C012108", nombre: "ADRIAN ISAIAS ALCARAZ MIRAMONTES" },
  { codigo: "C012762", nombre: "JOSE FRANCISCO RAMIREZ RODRIGUEZ" },
  { codigo: "C014814", nombre: "CLAUDIA DE LA CRUZ CABRERA ROSALES" },
  { codigo: "C015391", nombre: "NOS GUSTA PLATICAR" },
  { codigo: "C016140", nombre: "MARIA DE LA LUZ MENDOZA CONDE" },
  { codigo: "C016951", nombre: "OLGA LIZETTE PALOS OROZCO" },
  { codigo: "C017564", nombre: "JORGE EDUARDO ALCARAZ CORTES" },
  { codigo: "C017886", nombre: "JOSE ANTONIO FRANCO ALVAREZ" },
  { codigo: "C019668", nombre: "8 SAMURAIS" },
  { codigo: "C019713", nombre: "CHILO ROLL" },
  { codigo: "C019896", nombre: "LA BUENA MALA" },
  { codigo: "C019951", nombre: "CRISTINA SANCHEZ MEDINA" },
  { codigo: "C020125", nombre: "MAYAN SPICES MX" },
  { codigo: "CCM0100568", nombre: "RENE FLORES HIGAREDA" },
  { codigo: "CGDL010355", nombre: "LUIS MIGUEL HERMOSILLO ALFARO" },
  { codigo: "CGDL010609", nombre: "GRUPO HABANERO NEGRO" },
  { codigo: "CGDL010620", nombre: "SEONGJIK YANG" },
  { codigo: "CGDL010751", nombre: "EL DRAGON ROJO" },
  { codigo: "CGDL020953", nombre: "RESTAURANTE HATO" },
  { codigo: "CGDL022005", nombre: "ROSA ELIZABETH BLANCO MURO" },
  { codigo: "CPN0300051", nombre: "LIZETTE ALEJANDRA SILVA MADRIGAL" },
  { codigo: "CPN0300091", nombre: "SILVIA REYES CUESTA" },
  { codigo: "CPN0300130", nombre: "KIREI SUSHI" },
  { codigo: "CPN0300148", nombre: "ARTURO NUÑEZ GOMEZ" },
  { codigo: "CZPN010934", nombre: "LUIS FERNANDO VELARDE ROMO" },
  { codigo: "CZPN020517", nombre: "CULICHI ROLL" }
        
      ],
      "GDL4 - JULIO DE LA CRUZ": [
        { codigo: "C000153", nombre: "FERNANDO AVALOS RAMIREZ" },
  { codigo: "C000444", nombre: "SANTIAGO CONTRERAS GONZALEZ" },
  { codigo: "C000520", nombre: "ALBINO MIGUEL ANGEL DEL TORO GONZALEZ" },
  { codigo: "C002226", nombre: "SUSHIMIN" },
  { codigo: "C002352", nombre: "MARIA EUGENIA VEGA SALAZAR" },
  { codigo: "C003922", nombre: "COMERCIALIZADORA CONSCIENTE Y SALUDABLE" },
  { codigo: "C004532", nombre: "PAMPAS GDL" },
  { codigo: "C005598", nombre: "LUIS GERARDO NAVARRO LARIOS" },
  { codigo: "C007423", nombre: "EDGAR ERNESTO MUÑOZ MOYA" },
  { codigo: "C009050", nombre: "EDGAR ORLANDO BOJORQUEZ RAMIREZ" },
  { codigo: "C009748", nombre: "SAMMY NAKASHIMA K" },
  { codigo: "C010350", nombre: "JUAN LOPEZ" },
  { codigo: "C010392", nombre: "MARIA PLASCENCIA PLASCENCIA" },
  { codigo: "C010780", nombre: "ALVAREZ ALONSO RUBEN" },
  { codigo: "C010808", nombre: "OLVERA HERNANDEZ GALDINO" },
  { codigo: "C011082", nombre: "OPERADORA DE ALIMENTOS CGR" },
  { codigo: "C011238", nombre: "JUAN CARLOS FRANCISCO GARCIA BALLESTEROS" },
  { codigo: "C011588", nombre: "LUIS ARTURO RODRIGUEZ MUÑOZ" },
  { codigo: "C011629", nombre: "KORUMI" },
  { codigo: "C011959", nombre: "ANDRES FERNANDEZ MORENO" },
  { codigo: "C012138", nombre: "PATRICIA ALDAPA CERVANTES" },
  { codigo: "C012139", nombre: "MIREYA MIRELES SIFUENTES" },
  { codigo: "C012377", nombre: "QWARE CONSULTING" },
  { codigo: "C012440", nombre: "PESCADERIA SAN BLAS TEPEYAC" },
  { codigo: "C012549", nombre: "MARIA ANASTASIA LOPEZ REYES" },
  { codigo: "C012902", nombre: "MIGUEL ANGEL CONTRERAS LOPEZ" },
  { codigo: "C013977", nombre: "ROSARIO DE JESUS CISNEROS BARBOZA" },
  { codigo: "C014873", nombre: "INDUSTRIA DE ALIMENTOS GMVC" },
  { codigo: "C015213", nombre: "AGUEDA MARGARITA AYVAR CASTRO" },
  { codigo: "C016173", nombre: "COMERCIALIZADORA GALFRA" },
  { codigo: "C016268", nombre: "LUIS FELIPE RUBIO VELARDE" },
  { codigo: "C016456", nombre: "JUDITH PASTORA PADILLA RODRIGUEZ" },
  { codigo: "C016636", nombre: "MIDORI SUSHI" },
  { codigo: "C016728", nombre: "GRUPO EDOMAE" },
  { codigo: "C016852", nombre: "ALBERTO QUIROZ" },
  { codigo: "C017034", nombre: "INDUSTRIA DE ALIMENTOS ITALIANOS" },
  { codigo: "C017130", nombre: "SINONIMO" },
  { codigo: "C017793", nombre: "KINTSUGI" },
  { codigo: "C019085", nombre: "ERIK MANUEL MEZA LOPEZ" },
  { codigo: "C019399", nombre: "RICARDO HURTADO JIMENEZ" },
  { codigo: "C019600", nombre: "RAMON HURTADO JIMENEZ" },
  { codigo: "C019661", nombre: "JORGE ARTURO ALUJAS LOPEZ" },
  { codigo: "C019796", nombre: "FRANCISCA HERNANDEZ OSORIO" },
  { codigo: "C019857", nombre: "GYMHERI" },
  { codigo: "C019936", nombre: "MARIANA XIMENA DE LA TORRE MARTINEZ" },
  { codigo: "C020168", nombre: "TSUKI CAFÉ Y RAMEN" },
  { codigo: "C020196", nombre: "OLIFOOD ALSOR SOLUTIONS" },
  { codigo: "CCM0100291", nombre: "YUKO ALZATI" },
  { codigo: "CGDL010052", nombre: "GLORIA ESMERALDA PEREZ BUENROSTRO" },
  { codigo: "CGDL010150", nombre: "DOS TERCIOS Y MEDIOS" },
  { codigo: "CGDL010187", nombre: "HOTEL EXPO" },
  { codigo: "CGDL010282", nombre: "LIFE GAMER" },
  { codigo: "CGDL010414", nombre: "TABIPLUS" },
  { codigo: "CGDL010775", nombre: "RAMENCHITO" },
  { codigo: "CGDL060137", nombre: "FRANCISCO JAVIER ACEVES PADILLA" },
  { codigo: "CTLQ010021", nombre: "JUAN ANTONIO DE JESUS BARAJAS GONZALEZ" },
  { codigo: "CTLQ010051", nombre: "DIEGO OMAR OROZCO HUERTA" },
  { codigo: "CTLQ010079", nombre: "JOSE EDUARDO MUÑIZ AVILA" },
  { codigo: "CTLQ010101", nombre: "ESPERANZA VILLA RODRIGUEZ" },
  { codigo: "CTLQ010291", nombre: "ANTONIO VICTORIO MARTINEZ" },
  { codigo: "CTLQ010304", nombre: "VELAZQUEZ CARRANZA FELIPE" },
  { codigo: "CTLQ010404", nombre: "PESCADERIA COSTAMAR" },
  { codigo: "CZPN010021", nombre: "FUZIONES GOURMET" },
  { codigo: "CZPN010164", nombre: "ALFREDO ALDAPA CORONEL" },
  { codigo: "CZPN010295", nombre: "HECTOR ANTONIO MUÑIZ AVILA" },
  { codigo: "CZPN010300", nombre: "AIDMAR CONTRERAS RODELO" },
  { codigo: "CZPN020166", nombre: "MIYAKI SUSHI" }
       
      ],
      "GDL5 - ALAN PEREZ": [
        { codigo: "C000121", nombre: "LUIS GERARDO ARELLANO" },
  { codigo: "C000390", nombre: "CHONG WAH" },
  { codigo: "C000396", nombre: "HECTOR ERICK CISNEROS LARA" },
  { codigo: "C000658", nombre: "FOOD SERVICE & JOES" },
  { codigo: "C000797", nombre: "FELIPE DE JESUS GOMEZ CACHO" },
  { codigo: "C000861", nombre: "GRUPO ELKA" },
  { codigo: "C000958", nombre: "CESAR EDUARDO HIJAR TEJADA" },
  { codigo: "C001155", nombre: "RICARDO LIZAOLA CALZADA" },
  { codigo: "C001557", nombre: "OPERADORA MEXICANA DE CHILE" },
  { codigo: "C003697", nombre: "JORGE LEONARDO HERNANDEZ MUÑOZ" },
  { codigo: "C005581", nombre: "EL COMENSAL ES PRIMERO" },
  { codigo: "C006301", nombre: "SUSHI AMIGO" },
  { codigo: "C006600", nombre: "SUSHI BETO" },
  { codigo: "C007066", nombre: "DIANA LUNA ARELLANO" },
  { codigo: "C007386", nombre: "SUSHI BOX" },
  { codigo: "C007434", nombre: "TOKYO FOOD-V05" },
  { codigo: "C007999", nombre: "ANDREA LIMON RANGEL" },
  { codigo: "C008498", nombre: "OPERADORA DE MARISCOS SAVE" },
  { codigo: "C008535", nombre: "GERARDO ESCOBAR ROJAS" },
  { codigo: "C008564", nombre: "ADRIANA GONZALEZ JIMENEZ" },
  { codigo: "C008760", nombre: "OMAR EDGARDO CISNEROS ALVAREZ" },
  { codigo: "C008953", nombre: "HERIBERTO FELIPE GRANADOS RODRIGUEZ" },
  { codigo: "C008998", nombre: "JAVIER OCHOA OBREGON" },
  { codigo: "C010305", nombre: "DIEGO ESCOBAR ROJAS" },
  { codigo: "C010317", nombre: "SANDOVAL CHAVEZ CARLA SAMANTA" },
  { codigo: "C011002", nombre: "MONTSERRAT LOPEZ GARCIA" },
  { codigo: "C011053", nombre: "CEDANO ROJAS EDGAR ALEJANDRO" },
  { codigo: "C011224", nombre: "PANDA NINJA" },
  { codigo: "C011573", nombre: "LA GRAN COCINA CHINA" },
  { codigo: "C011630", nombre: "AKEMI SUSHI" },
  { codigo: "C012066", nombre: "MOVIL FOOD" },
  { codigo: "C012519", nombre: "ISAOJR JAPANESE FOOD" },
  { codigo: "C013031", nombre: "BOTANERO 21 LAS RAMBLAS" },
  { codigo: "C013767", nombre: "VICTOR OCTAVIO VALENCIA MEZA" },
  { codigo: "C014209", nombre: "IGNACIO MOYA MORA" },
  { codigo: "C014456", nombre: "PESCADOS Y CRUSTACEOS DEL PACIFICO" },
  { codigo: "C014457", nombre: "THE GOLDEN FISH ALIMENTOS" },
  { codigo: "C015225", nombre: "LUZ MARIA GUZMAN JUAREZ" },
  { codigo: "C015271", nombre: "OPERADORA DE CHARROS & SPORT" },
  { codigo: "C015555", nombre: "HUMBERTO ALONSO MACHUCA CARRILLO" },
  { codigo: "C016489", nombre: "YOSHIO MICHEL ZAPATA ZANABRIA" },
  { codigo: "C016950", nombre: "RAMON ALBERTO SOTO VIZCARRA" },
  { codigo: "C017518", nombre: "JESSICA YASMIN REYES HIGAREDA" },
  { codigo: "C018446", nombre: "GRUPO BOCAMEX" },
  { codigo: "C018527", nombre: "LOS MEJORES EN 100 METROS" },
  { codigo: "C018888", nombre: "OMAR GUADALUPE ORENDAIN SALAS" },
  { codigo: "C019213", nombre: "FRANCISCO JAVIER OCEGUERA SALDAÑA" },
  { codigo: "C019574", nombre: "COMERCIALIZADORA NIONIO" },
  { codigo: "C019847", nombre: "LAS YAKET DE BALAVY" },
  { codigo: "C019882", nombre: "SARAI HAZEL QUINTANA RAMOS" },
  { codigo: "CGDL010371", nombre: "ZHAOHONG LIU" },
  { codigo: "CGDL010379", nombre: "JUAN PABLO AMEZCUA OCHOA" },
  { codigo: "CGDL010413", nombre: "JOSE MANUEL GONZALEZ PARRA" },
  { codigo: "CGDL010762", nombre: "JULIA ELENA NAVARRO MERCADO" },
  { codigo: "CGDL020479", nombre: "JOSE FRANCISCO CRUZ ALTUNAR" },
  { codigo: "CGDL021185", nombre: "YAJIN DENG" },
  { codigo: "CGDL021799", nombre: "WEI TING CHEN" },
  { codigo: "CGDL060063", nombre: "MANUEL ALEJANDRO PADILLA RANGEL" },
  { codigo: "CGDL060071", nombre: "HERNANDEZ GONZALEZ EMMANUEL" },
  { codigo: "CGDL060108", nombre: "HARIGATTOSUSHI" },
  { codigo: "CPN0300099", nombre: "AMAYRANI YOHANDALY SANCHEZ MENDEZ" },
  { codigo: "CQRO010064", nombre: "MIGUEJA COMERCIALIZADORA" },
  { codigo: "CTLQ010134", nombre: "EDUARDO OLIVARES RUVALCABA" },
  { codigo: "CZPN010197", nombre: "EDGAR ROMERO GONZALEZ" }
        
      ],
      "GDL6 - DANIEL  AGUILAR": [
       { codigo: "C000006", nombre: "ABARROTES RAUL" },
  { codigo: "C000016", nombre: "LUIS CESAR BUENROSTRO CASTILLO" },
  { codigo: "C000677", nombre: "FRUTAS SECAS DE CALIDAD" },
  { codigo: "C000790", nombre: "GOITI PASTELERIAS" },
  { codigo: "C000821", nombre: "JOSE FEDERICO ROBERTO GONZALEZ BECERRA" },
  { codigo: "C000905", nombre: "JOSE DE JESUS GUZMAN GONZALEZ" },
  { codigo: "C000938", nombre: "JOSE DE JESUS HERNANDEZ MORA" },
  { codigo: "C001169", nombre: "LOPEZ AVILA GIOVANNI" },
  { codigo: "C001989", nombre: "ALEJANDRA PAOLA RUIZ SUAREZ" },
  { codigo: "C002094", nombre: "SEMILLAS Y CEREALES SAN JUANICO" },
  { codigo: "C002244", nombre: "LUIS CARLOS TAPIA GUTIERREZ" },
  { codigo: "C002533", nombre: "LUCIANA ROJAS CARRILLO" },
  { codigo: "C002902", nombre: "CARMONA JIMENEZ MARIA DEL CARMEN" },
  { codigo: "C004368", nombre: "ABASTECEDORA DE ESPECIAS, CONDIMENTOS Y CHILES CASTILLO" },
  { codigo: "C008529", nombre: "RENATO RAYAS REAL" },
  { codigo: "C008754", nombre: "CREMERIAS DE OCCIDENTE" },
  { codigo: "C008757", nombre: "ARMANDO FABIAN GALLEGOS VICTORIO" },
  { codigo: "C009259", nombre: "JUAN RAFAEL FLORES DAVID" },
  { codigo: "C009405", nombre: "MINI SUPER DE OCCIDENTE" },
  { codigo: "C009434", nombre: "FRUTAS Y VERDURAS KUAHUTLI" },
  { codigo: "C009475", nombre: "CEREALES EL CHINO" },
  { codigo: "C009582", nombre: "OMAR GONZALEZ CHAVEZ" },
  { codigo: "C009755", nombre: "FLORES FLORES RAFAEL" },
  { codigo: "C009818", nombre: "SUPER CABAÑA MONRAZ" },
  { codigo: "C010398", nombre: "MARIA ELENA GUTIERREZ IRACHETA" },
  { codigo: "C010613", nombre: "JAVIER FRANCISCO VAZQUEZ MANZANO" },
  { codigo: "C010643", nombre: "LUIS GONZALO RAMIREZ CASTRO" },
  { codigo: "C010670", nombre: "JUAN PABLO VAZQUEZ MANZANO" },
  { codigo: "C011134", nombre: "CLAUDIA EVELIN PADILLA DE LA TORRE" },
  { codigo: "C011534", nombre: "CARNICERIA LA TAPATIA" },
  { codigo: "C011666", nombre: "JUANA ESQUIBEL CARRILLO" },
  { codigo: "C011719", nombre: "OSCAR ULISES RIVERA RUIZ" },
  { codigo: "C011928", nombre: "JOSE CARLOS VAZQUEZ MANZANO" },
  { codigo: "C011971", nombre: "VIVA EL CERDO REY" },
  { codigo: "C012063", nombre: "COMERCIALIZADORA NAJASAM" },
  { codigo: "C012095", nombre: "CASTRO JESUS" },
  { codigo: "C012150", nombre: "PESCADERIA DELFIN" },
  { codigo: "C012279", nombre: "PRODUCTOS DE CALIDAD DEL BAJIO" },
  { codigo: "C012300", nombre: "OSEGUERA PADILLA MARIA TERESA" },
  { codigo: "C012511", nombre: "VAZQUEZ VILLANUEVA SALVADOR" },
  { codigo: "C012518", nombre: "PERNES CARNES FINAS" },
  { codigo: "C013508", nombre: "DE LA GRANJA SHOP" },
  { codigo: "C013638", nombre: "PALEO BEEF" },
  { codigo: "C013678", nombre: "CREMERIA" },
  { codigo: "C013762", nombre: "JDR BEEF" },
  { codigo: "C013788", nombre: "CONEJA MISTICA" },
  { codigo: "C013850", nombre: "CARNES SELECTAS ICEA" },
  { codigo: "C013902", nombre: "SUPERALIMENTOS Y PRODUCTOS FITNESS" },
  { codigo: "C013957", nombre: "NAHUM SAMUEL FRIAS OLIDEN" },
  { codigo: "C014498", nombre: "CARNES SELECTAS LA TAPATIA" },
  { codigo: "C014530", nombre: "JUAN ANDRES VAZQUEZ FLORES" },
  { codigo: "C014841", nombre: "SUPER CARNICERIA NACIONES UNIDAS" },
  { codigo: "C015316", nombre: "GUILLERMO LUA ESTRADA" },
  { codigo: "C015459", nombre: "ALEJANDRO JOSEPH VILLEGAS CIRINO" },
  { codigo: "C015617", nombre: "SUPER CARNICERIA LA TAPATIA" },
  { codigo: "C015634", nombre: "EDGAR MARTIN OROZCO HERNANDEZ" },
  { codigo: "C015801", nombre: "SHENGLAN YAN" },
  { codigo: "C016051", nombre: "SUPER J.P." },
  { codigo: "C016148", nombre: "CORTES SELECTOS REPUBLICA" },
  { codigo: "C016171", nombre: "CARNES CERTIFICADAS DE SONORA" },
  { codigo: "C016241", nombre: "AIKO MARIA LUISA HOSOYA AVIÑA" },
  { codigo: "C016278", nombre: "ULISES SAJA RIVERA ACOSTA" },
  { codigo: "C016350", nombre: "VERONICA GASGA SEGOVIANO" },
  { codigo: "C016390", nombre: "MERCADITO DE MAMA" },
  { codigo: "C016398", nombre: "GRUPO CAFISON" },
  { codigo: "C016771", nombre: "JULIO CESAR BERUMEN LOPEZ" },
  { codigo: "C016923", nombre: "MARIA GUADALUPE AVALOS GIL" },
  { codigo: "C017174", nombre: "LILIANA ARACELI SANCHEZ MARTINEZ" },
  { codigo: "C017302", nombre: "MARIO ALEJANDRO GONZALEZ MORALES" },
  { codigo: "C017370", nombre: "MANUEL LEDEZMA IÑIGUEZ" },
  { codigo: "C017730", nombre: "GABRIEL GONZALEZ HERMOSILLO" },
  { codigo: "C017735", nombre: "EDGAR ROEL VALENCIA DIAZ" },
  { codigo: "C017812", nombre: "MONTAN DISTRIBUIDORA" },
  { codigo: "C017813", nombre: "LA TAPATIA PROVIDENCIA" },
  { codigo: "C018079", nombre: "ERIK DE JESUS VELASCO FLORES" },
  { codigo: "C018196", nombre: "ALEJANDRO CONTRERAS TAMAYO" },
  { codigo: "C018475", nombre: "JOSE DE JESUS HERNANDEZ MORA" },
  { codigo: "C018612", nombre: "TAPAVADA" },
  { codigo: "C018685", nombre: "YOSELIN KRISTEL GUZMÁN SANDOVAL" },
  { codigo: "C019238", nombre: "TAPATIO FOODS TRADING" },
  { codigo: "C019239", nombre: "DIEGO EDUARDO TAPIA ROSALES" },
  { codigo: "C019276", nombre: "CREMERIA LA HIGIENICA" },
  { codigo: "C019406", nombre: "JESUS MANUEL IBARRA CARDENAS" },
  { codigo: "C019443", nombre: "JOSE DE JESUS ROBLEDO ARELLANO" },
  { codigo: "C019534", nombre: "SUPER CARNICERIA NACIONES UNIDAS II" },
  { codigo: "C019559", nombre: "GRUPO MAY" },
  { codigo: "C019628", nombre: "GFI INVESTMENTS" },
  { codigo: "C019685", nombre: "JOSE LUIS HOSOYA UTRERA" },
  { codigo: "C019723", nombre: "TEC SHOP" },
  { codigo: "C019771", nombre: "PANCHOSFIT" },
  { codigo: "C019807", nombre: "XIAOLING ZHANG" },
  { codigo: "C019834", nombre: "QINYAN WU" },
  { codigo: "C019862", nombre: "NIHAOMERCADO" },
  { codigo: "C019863", nombre: "BARGAIN PALACE" },
  { codigo: "C019925", nombre: "MARIO ALBERTO RAZO TINOCO" },
  { codigo: "C020076", nombre: "KARLA GABRIELA CRUZ MILANES" },
  { codigo: "C020107", nombre: "JORGE ENRIQUE AMARAL DIAZ" },
  { codigo: "C020141", nombre: "ALEIDA MARISOL OCHOA AMARAL" },
  { codigo: "CGDL010104", nombre: "DAVID MEZA LOPEZ" },
  { codigo: "CGDL010219", nombre: "MERCADO COTIDIANO" },
  { codigo: "CGDL010249", nombre: "JOSE GUADALUPE SANDOVAL MORON" },
  { codigo: "CGDL010344", nombre: "MI HYANG PARK" },
  { codigo: "CGDL021840", nombre: "LBJ FOOD IMPORTES" },
  { codigo: "CGDL022217", nombre: "TONY TANG" },
  { codigo: "CGDL070216", nombre: "MARTHA YOLANDA MANZANARES OROZCO" },
  { codigo: "CGDL080163", nombre: "KATIA ESTRADA SOTO" },
  { codigo: "CZPN010836", nombre: "SIORDIA MEDINA OCTAVIO ALFONSO" },
  { codigo: "CZPN020404", nombre: "EDGARDO TORRES RUVALCABA" }
       
      ],
      "GDL9 - ANTONIO V.": [
        { codigo: "C001048", nombre: "SAGRARIO DE JESUS JIMENEZ GAVIA" },
  { codigo: "C002219", nombre: "SUSHI TAKE" },
  { codigo: "C002516", nombre: "RAMONA ZUÑIGA SALAZAR" },
  { codigo: "C002925", nombre: "DISTRIBUIDORA DEL MAR NAVIR" },
  { codigo: "C005090", nombre: "THAI FOOD" },
  { codigo: "C007948", nombre: "VICTOR MANUEL BELTRAN NAVA" },
  { codigo: "C009639", nombre: "EMPRESAS ALIMENTICIAS DEL PACIFICO" },
  { codigo: "C009997", nombre: "ESTACION KIOTO" },
  { codigo: "C010290", nombre: "SANCHEZ MARTINEZ ELDA LOURDES" },
  { codigo: "C010448", nombre: "GUSTAVO ADOLFO RUIZ LOPEZ" },
  { codigo: "C012019", nombre: "EMPRESAS ALIMENTICIAS DE MAZATLAN" },
  { codigo: "C012076", nombre: "ATARASHI" },
  { codigo: "C012197", nombre: "WASOKE" },
  { codigo: "C012389", nombre: "ERNESTO HERNANDEZ DIAZ" },
  { codigo: "C012394", nombre: "WEI HONG LIN" },
  { codigo: "C012409", nombre: "JUAN CARLOS VAZQUEZ MENDOZA" },
  { codigo: "C012473", nombre: "FRANCISCO JAVIER MARTIN DEL CAMPO MORALES" },
  { codigo: "C012629", nombre: "MANUEL MEJIA CHAVIRA" },
  { codigo: "C013364", nombre: "MARCO ANTONIO BELMONTE MUÑOZ" },
  { codigo: "C013408", nombre: "GENNY ALEJANDRA VASQUEZ MUNGUIA" },
  { codigo: "C013740", nombre: "NAKAMA FOODS" },
  { codigo: "C013755", nombre: "AGUSTIN ENRIQUEZ OLEA" },
  { codigo: "C014025", nombre: "FRANCISCO JAVIER AREVALO GUTIERREZ" },
  { codigo: "C014451", nombre: "CEDIS DE LA FRONTERA" },
  { codigo: "C014751", nombre: "NARA DEVELOPMENTS" },
  { codigo: "C014957", nombre: "GOCHI NO KAI" },
  { codigo: "C015049", nombre: "MIGUEL ALEJANDRO BOBADILLA PEREZ" },
  { codigo: "C015109", nombre: "KOMU YAKITORI" },
  { codigo: "C015215", nombre: "VAKEROLOCO" },
  { codigo: "C015955", nombre: "BARRIO ROSA" },
  { codigo: "C015964", nombre: "OTHON HERNANDEZ GARCIA" },
  { codigo: "C016117", nombre: "FRANCISCO GONZALEZ GUTIERREZ" },
  { codigo: "C016223", nombre: "RENATA CAO LI" },
  { codigo: "C016425", nombre: "CECILIA GARCIA URESTI" },
  { codigo: "C016929", nombre: "MIGUEL ANGEL CAUDILLO LUNA" },
  { codigo: "C017993", nombre: "DENISSE DIAZ BASURTO" },
  { codigo: "C018021", nombre: "CARNICERIA CORTE Y SAZON" },
  { codigo: "C019114", nombre: "JOEL FABIAN BELLO" },
  { codigo: "C019785", nombre: "HECTOR RUBEN ARCINIEGA DE LOS ANGELES" },
  { codigo: "C020176", nombre: "KRUSTAMEX" },
  { codigo: "CGDL010109", nombre: "KARLA ROCIO NAVARRO GOMEZ" },
  { codigo: "CGDL020380", nombre: "ALCALA PURECO TERESITA" },
  { codigo: "CGDL020673", nombre: "LA LUJAN" },
  { codigo: "CGDL021965", nombre: "SONIC BUM" },
  { codigo: "CGDL021968", nombre: "FRANCISCO JAVIER MORA IBARRA" },
  { codigo: "CGDL060346", nombre: "MARTHA PAMELA BLANCO MORA" },
  { codigo: "CGDL070203", nombre: "TRABAJANDO SE LLEGA A ROMA" },
  { codigo: "CGDL070583", nombre: "LEBAR GRUPO RESTAURANTERO" },
  { codigo: "CGDL080041", nombre: "NAYELI ABIGAIL MACIAS FRANCO" },
  { codigo: "CTLQ010042", nombre: "JESUS AGUSTIN SAMANO VALDEZ" },
  { codigo: "CTLQ010324", nombre: "HUGO GERARDO BARAJAS NAVARRO" },
  { codigo: "CTLQ010341", nombre: "LUIS GERARDO GALLARDO ROJAS" },
  { codigo: "CZPN010331", nombre: "MARIA MINERVA MERINO DURAN" }
        
      ],
      "OFICINA GDL": [
        { codigo: "C012143", nombre: "VICTOR ENRIQUE LEON ROBLEDO" },
  { codigo: "C011512", nombre: "PESCADERIA VI&A DEL MAR" },
  { codigo: "C000092", nombre: "AN ILLUSION TURNED INTO REALITY" },
  { codigo: "CGDL040224", nombre: "OPERADORA MAROA" },
  { codigo: "C001097", nombre: "KRAMO ALIMENTOS" },
  { codigo: "CMOR020192", nombre: "LA BODEGUITA ORIENTAL" },
  { codigo: "C000493", nombre: "D TODO" },
  { codigo: "C014126", nombre: "GRUPO MC GOURMET" },
  { codigo: "C007518", nombre: "NH FOODS MEXICANA" },
  { codigo: "C009188", nombre: "JESUS RAUL LOMELI LOPEZ" },
  { codigo: "C017992", nombre: "ALMA BERTHA SILVA VAZQUEZ" },
  { codigo: "C011872", nombre: "PUBLICO EN GENERAL" },
  { codigo: "C017042", nombre: "OASIS OCEAN CLUB RESTAURANTE" },
  { codigo: "C001630", nombre: "PAGA DE JALISCO" },
  { codigo: "C019861", nombre: "VELMA SUSHI GROUP" },
  { codigo: "C007554", nombre: "EMPRESAS ALIMENTICIAS DEL PACIFICO" },
  { codigo: "C009678", nombre: "LUIS ENRIQUE AGUILAR DIAZ" },
  { codigo: "C012691", nombre: "HERMELINDA AVILA GURROLA" },
  { codigo: "C014760", nombre: "BLANCA ANGULO" },
  { codigo: "C015822", nombre: "IRMA VIRGINIA ROMERO LOPEZ" },
  { codigo: "C011677", nombre: "PRODUCTOS DE CONSUMO Z" },
  { codigo: "C000837", nombre: "GONZALEZ MICHALSKI" },
  { codigo: "CGDL010403", nombre: "JOSE ANTONIO VELASCO MAYORAL" },
  { codigo: "C008573", nombre: "MARCOS GARCIA MARTINEZ" },
  { codigo: "C006402", nombre: "VINOS AMERICA" },
  { codigo: "C018796", nombre: "SERGIO ISMAEL ALVARADO GASTELUM" },
  { codigo: "CMOR020191", nombre: "MARIA CRISTINA CORRAL ESPINOZA" },
  { codigo: "C007524", nombre: "DANIEL PEREZ PEREZ" },
  { codigo: "C014430", nombre: "CASA NIPON" },
  { codigo: "CTLQ010063", nombre: "LOPEZ RUIZ ERNESTO EDUARDO" },
  { codigo: "C008302", nombre: "HYEON AH KIM" },
  { codigo: "CTLQ010264", nombre: "SUSANA BARRAGAN CHAVEZ" },
  { codigo: "C008636", nombre: "VENTA DE PUBLICO EN GENERAL MENUDEO - CEDIS" },
  { codigo: "C020211", nombre: "HEALTHY COMFORTFOOD MARKET" },
  { codigo: "CTLQ010371", nombre: "PEREZ MUÑOZ ALEJANDRO" },
  { codigo: "C015296", nombre: "PUBLICO EN GENERAL" },
  { codigo: "C013194", nombre: "PESCADERIA NOVIA DEL MAR" },
  { codigo: "C012686", nombre: "WENDOLYN AMIRA CORNEJO GALLARDO" },
  { codigo: "CTLQ010195", nombre: "BAEZA LOPEZ JOSE ANTONIO" },
  { codigo: "C020121", nombre: "RAUL ALFREDO ACEVES FLORES" },
  { codigo: "C009440", nombre: "SEA FOOD EL TIO CHESPI" },
  { codigo: "C017902", nombre: "ALFONSO OROZCO VIZCAINO" },
  { codigo: "C014719", nombre: "FELIPE FUENTES CHAVIRA" },
  { codigo: "C014794", nombre: "MORAN RAMIREZ ARACELI" },
  { codigo: "C019856", nombre: "ANDREA 2" },
  { codigo: "C016559", nombre: "CRISTINA LIZARRAGA MANCERA" },
  { codigo: "C011732", nombre: "ANDREA JASSO TRANCOSO" },
  { codigo: "C001469", nombre: "LUIS FELIPE DE JESUS NAVARRO CASTELLANOS" },
  { codigo: "CGDL070205", nombre: "NETZAHUALCOYOTL VAZQUEZ BAUTISTA" },
  { codigo: "C013525", nombre: "MENDOZA VICTOR" },
  { codigo: "C011394", nombre: "MANUEL VICENTE TORRES" },
  { codigo: "C001077", nombre: "KAISENYA MARISCOS" },
  { codigo: "C019137", nombre: "MARCO ANTONIO HERNANDEZ ESQUIVEL" },
  { codigo: "C018553", nombre: "DAVID COVARRUBIAS JIMENEZ" },
  { codigo: "C012803", nombre: "JOSE ALBERTO ALBA NEVAREZ" },
  { codigo: "C007712", nombre: "MARCO ANTONIO ARNULFO AGUILAR SANCHEZ" },
  { codigo: "C001240", nombre: "ALEJANDRO MACIAS VALLE" },
  { codigo: "C014006", nombre: "FELIPE DE JESUS AVILA RAMIREZ" },
  { codigo: "C009918", nombre: "BRIAN ORENDAIN FLORES" },
  { codigo: "C018204", nombre: "SERVICIOS INTEGRALES DE ALIMENTOS VITA" },
  { codigo: "C010909", nombre: "JUDITH MORALES HERNANDEZ" },
  { codigo: "CGDL010505", nombre: "PREAMBULO COMERCIAL INTERAMERICANO" },
  { codigo: "C001207", nombre: "LOS ESPEJOS DE ANDALUCIA" }
      ],
      
      "RUTA TEQUILA GDL": [
        { codigo: "C001577", nombre: "MIGUEL ANGEL ORENDAIN RUVALCABA" }
        // ...
      ]
    };

    /****************************************************
     * 2) UTILIDADES DE FECHA Y HORA
     ****************************************************/
    function actualizarFechaHora() {
      const now = new Date();
      const fecha = now.toLocaleDateString("es-MX", {
        year: "numeric",
        month: "2-digit",
        day: "2-digit"
      });
      const hora = now.toLocaleTimeString("es-MX", {
        hour: "2-digit",
        minute: "2-digit"
      });
      document.getElementById("fechaInput").value = fecha;
      document.getElementById("horaInput").value = hora;
    }

    /****************************************************
     * 3) GPS
     ****************************************************/
    let ultimaPosicion = null;

    function obtenerGPS() {
      const status = document.getElementById("gpsStatus");
      if (!navigator.geolocation) {
        status.textContent = "GPS no disponible en este dispositivo.";
        return;
      }

      status.textContent = "Obteniendo ubicación...";
      navigator.geolocation.getCurrentPosition(
        pos => {
          const { latitude, longitude } = pos.coords;
          ultimaPosicion = { lat: latitude, lng: longitude };
          document.getElementById("latText").textContent =
            latitude.toFixed(6);
          document.getElementById("lngText").textContent =
            longitude.toFixed(6);
          status.textContent = "Ubicación obtenida correctamente.";
        },
        err => {
          status.textContent = "No se pudo obtener la ubicación.";
          console.error(err);
        },
        {
          enableHighAccuracy: true,
          timeout: 10000,
          maximumAge: 60000
        }
      );
    }

    /****************************************************
     * 4) HISTORIAL EN LOCALSTORAGE
     ****************************************************/
    const STORAGE_KEY = "toyo_visitas_historial";

    function cargarHistorial() {
      const raw = localStorage.getItem(STORAGE_KEY);
      if (!raw) return [];
      try {
        return JSON.parse(raw);
      } catch {
        return [];
      }
    }

    function guardarHistorial(historial) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(historial));
    }

    function refrescarTabla() {
      const tbody = document.getElementById("tablaVisitasBody");
      const historial = cargarHistorial();
      tbody.innerHTML = "";

      historial.forEach(v => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${v.fecha}</td>
          <td>${v.hora}</td>
          <td>${v.vendedor}</td>
          <td>${v.codigoCliente}</td>
          <td>${v.nombreCliente}</td>
          <td>${v.comentarios.replace(/\n/g, "<br>")}</td>
          <td>${v.lat ?? "-"}</td>
          <td>${v.lng ?? "-"}</td>
        `;
        tbody.appendChild(tr);
      });

      document.getElementById(
        "contadorVisitas"
      ).textContent = `${historial.length} visita${
        historial.length === 1 ? "" : "s"
      }`;
    }

    /****************************************************
     * 5) EXPORTAR A EXCEL
     ****************************************************/
    function exportarExcel() {
      const historial = cargarHistorial();
      if (!historial.length) {
        alert("No hay visitas registradas para exportar.");
        return;
      }

      const data = [
        [
          "Fecha",
          "Hora",
          "Vendedor",
          "Código cliente",
          "Nombre cliente",
          "Comentarios",
          "Latitud",
          "Longitud"
        ]
      ];

      historial.forEach(v => {
        data.push([
          v.fecha,
          v.hora,
          v.vendedor,
          v.codigoCliente,
          v.nombreCliente,
          v.comentarios,
          v.lat ?? "",
          v.lng ?? ""
        ]);
      });

      const ws = XLSX.utils.aoa_to_sheet(data);
      const wb = XLSX.utils.book_new();
      XLSX.utils.book_append_sheet(wb, ws, "Visitas");

      const fechaNombre = new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "");
      const nombreArchivo = `Registro_Visitas_${fechaNombre}.xlsx`;

      XLSX.writeFile(wb, nombreArchivo);
    }

    /****************************************************
     * 6) INICIALIZACIÓN DE LA UI
     ****************************************************/
    function poblarVendedores() {
      const vendedorSelect = document.getElementById("vendedorSelect");
      const vendedores = Object.keys(clientesPorAgente).sort();

      vendedores.forEach(v => {
        const opt = document.createElement("option");
        opt.value = v;
        opt.textContent = v;
        vendedorSelect.appendChild(opt);
      });
    }

    function poblarClientesDeVendedor(vendedor) {
      const clienteSelect = document.getElementById("clienteSelect");
      const codigoText = document.getElementById("clienteCodigoText");
      clienteSelect.innerHTML = "";
      codigoText.textContent = "";

      if (!vendedor || !clientesPorAgente[vendedor]) {
        clienteSelect.disabled = true;
        const opt = document.createElement("option");
        opt.value = "";
        opt.textContent = "Selecciona primero un vendedor...";
        clienteSelect.appendChild(opt);
        return;
      }

      clienteSelect.disabled = false;
      const optDefault = document.createElement("option");
      optDefault.value = "";
      optDefault.textContent = "Selecciona un cliente...";
      clienteSelect.appendChild(optDefault);

      clientesPorAgente[vendedor].forEach(c => {
        const opt = document.createElement("option");
        opt.value = c.codigo;
        opt.textContent = c.nombre;
        opt.dataset.codigo = c.codigo;
        clienteSelect.appendChild(opt);
      });
    }

    /****************************************************
     * 7) EVENTOS
     ****************************************************/
    document.addEventListener("DOMContentLoaded", () => {
      actualizarFechaHora();
      setInterval(actualizarFechaHora, 30 * 1000);

      // Banner sábados
      const hoy = new Date().getDay(); // 6 = sábado
      if (hoy === 6) {
        document.getElementById("bannerSabado").style.display = "block";
      }

      poblarVendedores();
      refrescarTabla();

      document
        .getElementById("vendedorSelect")
        .addEventListener("change", e => {
          const vendedor = e.target.value;
          poblarClientesDeVendedor(vendedor);
        });

      document
        .getElementById("clienteSelect")
        .addEventListener("change", e => {
          const codigo = e.target.value;
          const nombre = e.target.options[e.target.selectedIndex]?.text || "";
          if (codigo && nombre) {
            document.getElementById(
              "clienteCodigoText"
            ).textContent = `Código: ${codigo}`;
          } else {
            document.getElementById("clienteCodigoText").textContent = "";
          }
        });

      document
        .getElementById("btnGps")
        .addEventListener("click", obtenerGPS);

      document.getElementById("btnGuardar").addEventListener("click", () => {
        const vendedor = document.getElementById("vendedorSelect").value;
        const clienteSelect = document.getElementById("clienteSelect");
        const codigoCliente = clienteSelect.value;
        const nombreCliente =
          clienteSelect.options[clienteSelect.selectedIndex]?.text || "";
        const comentarios =
          document.getElementById("comentariosInput").value.trim();
        const fecha = document.getElementById("fechaInput").value;
        const hora = document.getElementById("horaInput").value;
        const status = document.getElementById("guardarStatus");

        if (!vendedor) {
          alert("Selecciona un vendedor.");
          return;
        }
        if (!codigoCliente) {
          alert("Selecciona un cliente.");
          return;
        }

        // Si no hay GPS aún, intentamos obtenerlo una vez
        if (!ultimaPosicion) {
          obtenerGPS();
        }

        const historial = cargarHistorial();
        historial.push({
          fecha,
          hora,
          vendedor,
          codigoCliente,
          nombreCliente,
          comentarios,
          lat: ultimaPosicion?.lat ? ultimaPosicion.lat.toFixed(6) : null,
          lng: ultimaPosicion?.lng ? ultimaPosicion.lng.toFixed(6) : null
        });
        guardarHistorial(historial);
        refrescarTabla();

        document.getElementById("comentariosInput").value = "";
        status.textContent = "Visita guardada.";
        setTimeout(() => (status.textContent = ""), 2500);
      });

      document
        .getElementById("btnExportarExcel")
        .addEventListener("click", exportarExcel);

      document.getElementById("btnLimpiarTodo").addEventListener("click", () => {
        if (
          confirm(
            "¿Seguro que deseas borrar todo el historial de visitas en este dispositivo?"
          )
        ) {
          localStorage.removeItem(STORAGE_KEY);
          refrescarTabla();
        }
      });
    });
  </script>
</body>
</html>
